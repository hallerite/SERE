# tasks/kitchen/t03_open_thermos_pour_steep.yaml
id: t03_open_thermos_pour_steep
name: Three steps; open thermos, pour, steep
description: |
  The thermos is closed. Kettle is hot & open; teabag is already in the thermos.

meta:
  domain: kitchen
  enable_numeric: true
  enable_conditional: true
  enable_durations: true
  max_steps: 8
  seed: 203
  init_fluents:
    - ["battery-cap", ["r1"], 8]
    - ["energy", ["r1"], 8]
    - ["water-temp", ["kettle1"], 90.0]
  reward_shaping:
    mode: instant
    milestones:
      - {expr: "(open thermos1)", reward: 0.10, once: true}
      - {expr: "(has-hot-water thermos1)", reward: 0.10, once: true}


objects:
  robot: [r1]
  location: [kitchen]
  container: [thermos1, kettle1]
  appliance: [kettle1]
  object: [teabag1]

static_facts:
  - (needs-open thermos1)
  - (openable thermos1)
  - (openable kettle1)

init:
  - (at r1 kitchen)
  - (obj-at thermos1 kitchen)
  - (obj-at kettle1 kitchen)
  - (open kettle1)
  - (in teabag1 thermos1)
  - (clear-hand r1)

goal:
  - (tea-ready thermos1)

reference_plan:
  - (open r1 thermos1)
  - (pour r1 kettle1 thermos1)
  - (steep-tea r1 teabag1 thermos1)
